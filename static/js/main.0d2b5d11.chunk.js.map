{"version":3,"sources":["../../src/hooks/useShareStatesBetweenTabs.js","App.js","index.js"],"names":["nameKey","value","useState","state","setState","isNewSession","useRef","useEffect","currentState","localStorage","JSON","error","onReceieveMessage","e","key","newValue","window","ITEMS","id","name","App","useShareStatesBetweenTabs","items","setItems","total","setTotal","tot","reduce","prev","curr","className","map","item","i","onClick","preventDefault","some","it","itemsTemp","filter","result","handleClick","handleRemove","ReactDOM","render","document","getElementById"],"mappings":"yOAEkC,SAACA,EAASC,GAC1C,MAA0BC,mBAA1B,GAAOC,EAAP,KAAcC,EAAd,KACMC,EAAeC,kBAArB,GA4BA,OA1BAC,qBAAU,WACR,GAAIF,EAAJ,QAA0B,CACxB,IAAMG,EAAeC,qBAArB,GAMA,OAJkBL,EAAlB,EAA2BM,WAA3B,GACKN,QAELC,cAGF,IACEI,uBAA8BC,eAA9BD,IACA,MAAOE,OACR,CAACR,EAAOH,EAbXO,IAeAA,qBAAU,WACR,IAAMK,EAAoB,SAACC,GACzB,IAAQC,EAAkBD,EAA1B,IAAaE,EAAaF,EAA1B,SACIC,IAAJ,GACEV,EAASM,WAATN,KAIJ,OADAY,qCACO,kBAAMA,qCAAN,MACN,CAAChB,EATJO,IAWO,CAACJ,EAAR,IC7BIc,EAAQ,CACZ,CACEC,GAAI,EACJC,KAAM,YACNlB,MAAO,KAET,CACEiB,GAAI,EACJC,KAAM,YACNlB,MAAO,KAET,CACEiB,GAAI,EACJC,KAAM,YACNlB,MAAO,KAET,CACEiB,GAAI,EACJC,KAAM,YACNlB,MAAO,KAET,CACEiB,GAAI,EACJC,KAAM,YACNlB,MAAO,KAET,CACEiB,GAAI,EACJC,KAAM,YACNlB,MAAO,KAET,CACEiB,GAAI,EACJC,KAAM,YACNlB,MAAO,KAET,CACEiB,GAAI,EACJC,KAAM,YACNlB,MAAO,KAET,CACEiB,GAAI,EACJC,KAAM,YACNlB,MAAO,KAET,CACEiB,GAAI,GACJC,KAAM,aACNlB,MAAO,MA+DImB,EA3DH,WAKV,MAA0BC,EAA0B,QAAS,IAA7D,mBAAOC,EAAP,KAAcC,EAAd,KAEA,EAA0BrB,mBAAS,GAAnC,mBAAOsB,EAAP,KAAcC,EAAd,KAwBA,OALAlB,qBAAU,WACR,IAAMmB,EAAMJ,EAAMK,QAAO,SAACC,EAAMC,GAAP,OAAgBD,EAAOC,EAAK5B,QAAO,GAC5DwB,EAASC,KACR,CAACJ,IAGF,yBAAKQ,UAAU,kBACb,yBAAKA,UAAU,aACZb,EAAMc,KAAI,SAACC,EAAMC,GAAP,OACT,yBAAKnB,IAAKmB,EAAGH,UAAU,QACrB,8BAAOE,EAAKb,MACZ,mCAASa,EAAK/B,OACd,4BAAQiC,QAAS,SAACrB,GAAD,OA7BP,SAACA,EAAGK,GAItB,GAHAL,EAAEsB,kBACcb,EAAMc,MAAK,SAACC,GAAD,OAAQA,EAAGnB,KAAOA,KAE/B,CACZ,IAAMoB,EAAYrB,EAAMsB,QAAO,SAACP,GAAD,OAAUA,EAAKd,KAAOA,KAC/CsB,EAAM,sBAAOlB,GAAP,YAAiBgB,IAC7Bf,EAASiB,IAsBqBC,CAAY5B,EAAGmB,EAAKd,MAA5C,YAKN,yBAAKY,UAAU,QACb,sCACCR,GACCA,EAAMS,KAAI,SAACC,EAAMC,GAAP,OACR,yBAAKnB,IAAKmB,EAAGH,UAAU,QACrB,8BAAOE,EAAKb,MACZ,mCAASa,EAAK/B,OACd,4BAAQiC,QAAS,SAACrB,GAAD,OA9BR,SAACA,EAAGK,GACvBL,EAAEsB,iBACF,IAAMG,EAAYhB,EAAMiB,QAAO,SAACP,GAAD,OAAUA,EAAKd,KAAOA,KACrDK,EAASe,GA2ByBI,CAAa7B,EAAGmB,EAAKd,MAA7C,cAGN,iCAAOM,MCvGfmB,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.0d2b5d11.chunk.js","sourcesContent":["import { useState, useRef, useEffect } from 'react'\n\nconst useShareStatesBetweenTabs = (nameKey, value) => {\n  const [state, setState] = useState(value)\n  const isNewSession = useRef(true)\n\n  useEffect(() => {\n    if (isNewSession.current) {\n      const currentState = localStorage.getItem(nameKey)\n\n      if (currentState) setState(JSON.parse(currentState))\n      else setState(value)\n\n      isNewSession.current = false\n      return\n    }\n    try {\n      localStorage.setItem(nameKey, JSON.stringify(state))\n    } catch (error) {}\n  }, [state, nameKey, value])\n\n  useEffect(() => {\n    const onReceieveMessage = (e) => {\n      const { key, newValue } = e\n      if (key === nameKey) {\n        setState(JSON.parse(newValue))\n      }\n    }\n    window.addEventListener('storage', onReceieveMessage)\n    return () => window.removeEventListener('storage', onReceieveMessage)\n  }, [nameKey, setState])\n\n  return [state, setState]\n}\n\nexport default useShareStatesBetweenTabs\n","import React, { useState, useEffect } from 'react'\nimport useShareStatesBetweenTabs from 'react-share-states-between-tabs'\n\nconst ITEMS = [\n  {\n    id: 1,\n    name: 'Product 1',\n    value: 100\n  },\n  {\n    id: 2,\n    name: 'Product 2',\n    value: 200\n  },\n  {\n    id: 3,\n    name: 'Product 3',\n    value: 300\n  },\n  {\n    id: 4,\n    name: 'Product 4',\n    value: 400\n  },\n  {\n    id: 5,\n    name: 'Product 5',\n    value: 500\n  },\n  {\n    id: 6,\n    name: 'Product 6',\n    value: 600\n  },\n  {\n    id: 7,\n    name: 'Product 7',\n    value: 700\n  },\n  {\n    id: 8,\n    name: 'Product 8',\n    value: 800\n  },\n  {\n    id: 9,\n    name: 'Product 9',\n    value: 900\n  },\n  {\n    id: 10,\n    name: 'Product 10',\n    value: 1000\n  }\n]\n\nconst App = () => {\n  /**\n   * Choose whatever name you want for the variable and its set,\n   * example: const [example, setExample] = useShareStatesBetweenTabs('example', 'Hello world')\n   */\n  const [items, setItems] = useShareStatesBetweenTabs('items', [])\n\n  const [total, setTotal] = useState(0)\n\n  const handleClick = (e, id) => {\n    e.preventDefault()\n    const isExist = items.some((it) => it.id === id)\n\n    if (!isExist) {\n      const itemsTemp = ITEMS.filter((item) => item.id === id)\n      const result = [...items, ...itemsTemp]\n      setItems(result)\n    }\n  }\n\n  const handleRemove = (e, id) => {\n    e.preventDefault()\n    const itemsTemp = items.filter((item) => item.id !== id)\n    setItems(itemsTemp)\n  }\n\n  useEffect(() => {\n    const tot = items.reduce((prev, curr) => prev + curr.value, 0)\n    setTotal(tot)\n  }, [items])\n\n  return (\n    <div className='container-into'>\n      <div className='container'>\n        {ITEMS.map((item, i) => (\n          <div key={i} className='card'>\n            <span>{item.name}</span>\n            <span>$ {item.value}</span>\n            <button onClick={(e) => handleClick(e, item.id)}>ADD</button>\n          </div>\n        ))}\n      </div>\n\n      <div className='cart'>\n        <h2>ITEMS:</h2>\n        {items &&\n          items.map((item, i) => (\n            <div key={i} className='card'>\n              <span>{item.name}</span>\n              <span>$ {item.value}</span>\n              <button onClick={(e) => handleRemove(e, item.id)}>REMOVE</button>\n            </div>\n          ))}\n        <h2>$ {total}</h2>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}